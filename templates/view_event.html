{% extends "base.html" %}
{% block title %}{{ event.title }}{% endblock %}
{% block content %}
<h2>{{ event.title }}</h2>
<p><strong>Date:</strong> {{ event.date.strftime('%Y-%m-%d %H:%M') }}</p>
<p><strong>Venue:</strong> {{ event.venue or 'TBA' }}</p>
<p>{{ event.description }}</p>

{% if current_user.is_authenticated %}
  {% if registered %}
    <p><em>Your registration status: <strong>{{ registered.status }}</strong></em></p>
  {% else %}
    <form method="post" action="{{ url_for('register_for_event', event_id=event.id) }}">
      <button class="btn btn-success" type="submit">Register</button>
    </form>
  {% endif %}
{% else %}
  <p><a href="{{ url_for('login') }}">Login</a> or <a href="{{ url_for('register') }}">Register</a> to sign up.</p>
{% endif %}
{% endblock %}
